{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","href","target","src","alt","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","like","link","name","onClick","onCardClick","type","onCardDelete","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","i","Footer","PopupWithForm","isOpened","onClose","action","noValidate","onSubmit","title","children","ImagePopup","api","options","this","_baseUrl","baseUrl","_token","token","res","ok","json","Promise","reject","Error","status","fetch","headers","authorization","then","_getResponse","data","method","body","JSON","stringify","id","deleteLike","putLike","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","required","minLength","maxLength","value","onChange","EditAvatarPopup","ref","useRef","onUpdateAvatar","current","AddPlacePopup","setLink","App","isEditProfilePopupOpened","setIsEditProfilePopupOpened","isEditAvatarPopupOpened","setIsEditAvatarPopupOpened","isAddPlacePopupOpened","setIsAddPlacePopupOpened","isImagePopupOpened","setIsImagePopupOpened","selectedCard","setSelectedCard","setCurrentUser","setCards","a","l","changeLikeStatus","newCard","newCards","c","console","log","message","deleteCard","filter","closeAllPopups","user","setProfileInfo","setProfileAvatar","postNewCard","getInitialCards","getContent","getProfileInfo","getUserInfo","Provider","Logo","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2150cca8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","function Header(props) {\r\n  return (\r\n    <header className=\"header\">\r\n      <a href=\"#\" className=\"header__logo\" target=\"_self\">\r\n        <img src={props.src} alt=\"Логотип с надписью Место.\" className=\"header__logo-img\" />\r\n      </a>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport React from 'react';\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const isLiked = props.card.likes.some((like) => {\r\n    return like._id === currentUser._id;\r\n  });\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n  function handleCardDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n  return (\r\n    <div className={props.className} >\r\n      <>\r\n        <img src={props.card.link} alt={props.card.name} className=\"card__image\" onClick={handleClick} />\r\n        {isOwn && <button type=\"button\" className=\"card__delete\" onClick={handleCardDeleteClick}></button>}\r\n        <div className=\"card__body\">\r\n          <h3 className=\"card__heading\">{props.card.name}</h3>\r\n          <div className=\"card__like\">\r\n            <button type=\"button\" className={`card__btn ${isLiked && \"card__btn_active\"}`} onClick={handleLikeClick}></button>\r\n            <span className=\"card__like-count\">{props.card.likes.length}</span>\r\n          </div>\r\n        </div>\r\n      </>\r\n    </div>\r\n  );\r\n}\r\nexport default Card;","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Card from './Card';\r\n\r\nfunction Main(props) {\r\n\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__inner\">\r\n          <div className=\"profile__overlay\" onClick={props.onEditAvatar}></div>\r\n          <img src={currentUser.avatar} alt={`Аватар ${currentUser.name}`} className=\"profile__photo\" />\r\n        </div>\r\n        <div className=\"profile__column\">\r\n          <div className=\"profile__row\">\r\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n            <button type=\"button\" className=\"profile__btn profile__btn_edit\" onClick={props.onEditProfile}></button>\r\n          </div>\r\n          <p className=\"profile__subtitle\">\r\n            {currentUser.about}\r\n          </p>\r\n        </div>\r\n        <button type=\"button\" className=\"profile__btn profile__btn_add\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n      <section className=\"cards-gallery\">\r\n        {props.cards.map((card, i) => {\r\n          return (\r\n            <Card className=\"card\" key={card._id} onCardClick={props.onCardClick} card={card} onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete} />\r\n          );\r\n        })}\r\n      </section>\r\n    </main >);\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","function PopupWithForm(props) {\r\n  return (\r\n    <div className={`popup popup_type_${props.name} ${props.isOpened && \"popup_opened\"}`}>\r\n      <div className=\"popup__container\">\r\n        <button type=\"button\" className=\"popup__close\" onClick={props.onClose}></button>\r\n        <form action=\"#\" className=\"popup__form\" name={props.name} noValidate onSubmit={props.onSubmit}>\r\n          <h2 className=\"popup__title\">\r\n            {props.title}\r\n          </h2>\r\n          {props.children}\r\n          <button type=\"submit\" className=\"popup__submit\" >Сохранить</button>\r\n        </form>\r\n      </div>\r\n    </div >\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","function ImagePopup(props) {\r\n  return (\r\n    <div className={`popup popup_type_image ${props.isOpened && \"popup_opened\"}`}>\r\n      <div className=\"popup__container\">\r\n        <button type=\"button\" className=\"popup__close\" onClick={props.onClose}></button>\r\n        <figure className=\"popup__figure\">\r\n          <img src={props.card.src} alt={props.card.name} className=\"popup__image\" />\r\n          <figcaption className=\"popup__caption\">{`${props.card.name}`}</figcaption>\r\n        </figure>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default ImagePopup;\r\n","export class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._token = options.token;\r\n  }\r\n\r\n  _getResponse(res) {\r\n    if (res.ok)\r\n      return res.json();\r\n    return Promise.reject(new Error(`Ошибка: ${res.status}`))\r\n  }\r\n\r\n  getProfileInfo() {\r\n    return fetch(`${this._baseUrl}users/me`, {\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(res => {\r\n        return this._getResponse(res);\r\n      })\r\n  }\r\n\r\n  setProfileInfo(data) {\r\n    return fetch(`${this._baseUrl}users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(\r\n        data\r\n      )\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}cards`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n  postNewCard(data) {\r\n    return fetch(`${this._baseUrl}cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(\r\n        data\r\n      )\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._baseUrl}cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n  putLike(id) {\r\n    return fetch(`${this._baseUrl}cards/likes/${id}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n  deleteLike(id) {\r\n    return fetch(`${this._baseUrl}cards/likes/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n  changeLikeStatus(id, isLiked) {\r\n    return (isLiked) ? this.deleteLike(id) : this.putLike(id);\r\n  }\r\n\r\n  setProfileAvatar(data) {\r\n    return fetch(`${this._baseUrl}users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(\r\n        data\r\n      )\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n}\r\nconst options = {\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19/',\r\n  token: 'aac4a60b-b09e-40d2-9391-f119b1a59443'\r\n}\r\nconst api = new Api(options);\r\nexport default api;","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleNameChange(e) {\r\n    e.preventDefault();\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    e.preventDefault();\r\n    setDescription(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" isOpened={props.isOpened}\r\n      onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <input id=\"name-input\" type=\"text\" className=\"popup__input  popup__input_type_title\"\r\n        placeholder=\"Имя\" name=\"name\" required minLength=\"2\" maxLength=\"40\"\r\n        value={name || ''} onChange={handleNameChange} />\r\n      <span id=\"name-input-error\" className=\"popup__error\" ></span>\r\n      <input id=\"job-input\" type=\"text\" className=\"popup__input popup__input_type_subtitle\"\r\n        placeholder=\"О себе\" name=\"about\" required minLength=\"2\" maxLength=\"200\"\r\n        value={description || ''} onChange={handleDescriptionChange} />\r\n      <span id=\"job-input-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n  const ref = React.useRef('');\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({ avatar: ref.current.value });\r\n  }\r\n  return (\r\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар\"\r\n      isOpened={props.isOpened} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <input id=\"avatar-input\" type=\"url\" className=\"popup__input  popup__input_type_link\"\r\n        placeholder=\"Ссылка на картинку\" name=\"avatar\" required ref={ref} />\r\n      <span id=\"avatar-input-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleNameChange(e) {\r\n    e.preventDefault();\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleLinkChange(e) {\r\n    e.preventDefault();\r\n    setLink(e.target.value);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onSubmit({ name, link });\r\n  }\r\n  return (\r\n    <PopupWithForm name=\"add-card\" title=\"Новое место\" isOpened={props.isOpened} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <input id=\"place-input\" type=\"text\" className=\"popup__input popup__input_type_place\"\r\n        placeholder=\"Название\" name=\"name\" required minLength=\"2\" maxLength=\"30\" value={name || ''} onChange={handleNameChange} />\r\n      <span id=\"place-input-error\" className=\"popup__error\"></span>\r\n      <input id=\"link-input\" type=\"url\" className=\"popup__input popup__input_type_link\"\r\n        placeholder=\"Ссылка на картинку\" name=\"link\" required value={link || ''} onChange={handleLinkChange} />\r\n      <span id=\"link-input-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import Logo from '../images/logo.svg';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport React from 'react';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\n\nfunction App() {\n  const [isEditProfilePopupOpened, setIsEditProfilePopupOpened] = React.useState(false);\n  const [isEditAvatarPopupOpened, setIsEditAvatarPopupOpened] = React.useState(false);\n  const [isAddPlacePopupOpened, setIsAddPlacePopupOpened] = React.useState(false);\n  const [isImagePopupOpened, setIsImagePopupOpened] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    async function getContent() {\n      try {\n        setCards(await api.getInitialCards());\n      } catch (e) {\n        console.log(e);\n      }\n    }\n    getContent();\n  }, []);\n\n  async function handleCardLike(card) {\n    const isLiked = card.likes.some((l) => {\n      return l._id === currentUser._id;\n    });\n    try {\n      const newCard = await api.changeLikeStatus(card._id, isLiked);\n      const newCards = cards.map((c) => {\n        return c._id === card._id ? newCard : c;\n      });\n      setCards(newCards);\n    }\n    catch (e) {\n      console.log(e.message);\n    }\n  }\n\n  async function handleCardDelete(card) {\n    try {\n      await api.deleteCard(card._id);\n      const newCards = cards.filter((c) => {\n        return c._id !== card._id;\n      })\n      setCards(newCards);\n    } catch (e) {\n      console.log(e.message);\n    }\n  }\n  React.useEffect(() => {\n    async function getUserInfo() {\n      try {\n        setCurrentUser(await api.getProfileInfo());\n      } catch (e) {\n        console.log(e.message);\n      }\n    }\n    getUserInfo();\n  }, []);\n  function handleAvatarClick() {\n    setIsEditAvatarPopupOpened(true);\n  }\n  function handleProfileClick() {\n    setIsEditProfilePopupOpened(true);\n  }\n  function handleAddClick() {\n    setIsAddPlacePopupOpened(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard({\n      ...selectedCard,\n      src: card.link,\n      name: card.name\n    });\n    setIsImagePopupOpened(true);\n  }\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpened(false);\n    setIsEditProfilePopupOpened(false);\n    setIsAddPlacePopupOpened(false);\n    setIsImagePopupOpened(false);\n  }\n\n  async function handleUpdateUser(user) {\n    try {\n      setCurrentUser(await api.setProfileInfo(user));\n      closeAllPopups();\n    } catch (e) {\n      console.log(e.message);\n    }\n  }\n\n  async function handleUpdateAvatar(link) {\n    try {\n      setCurrentUser(await api.setProfileAvatar(link));\n      closeAllPopups();\n    }\n    catch (e) {\n      console.log(e.message);\n    }\n  }\n\n  async function handleAddPlaceSubmit(data) {\n    try {\n      setCards([await api.postNewCard(data), ...cards]);\n      closeAllPopups();\n    } catch (e) {\n      console.log(e.message);\n    }\n  }\n  return (\n    <>\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <CurrentUserContext.Provider value={currentUser}>\n            <Header src={Logo} />\n            <Main onEditAvatar={handleAvatarClick} onEditProfile={handleProfileClick}\n              onAddPlace={handleAddClick} onCardClick={handleCardClick}\n              cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete} />\n            <Footer />\n            <EditProfilePopup isOpened={isEditProfilePopupOpened} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n            <EditAvatarPopup isOpened={isEditAvatarPopupOpened} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n            <AddPlacePopup isOpened={isAddPlacePopupOpened} onClose={closeAllPopups} onSubmit={handleAddPlaceSubmit} />\n          </CurrentUserContext.Provider>\n        </div>\n        <PopupWithForm name=\"confirm\" title=\"Вы уверены?\" onClose={closeAllPopups} />\n        <ImagePopup card={selectedCard} isOpened={isImagePopupOpened} onClose={closeAllPopups} />\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import './index.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}